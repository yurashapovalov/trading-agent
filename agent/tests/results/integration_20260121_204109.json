{
  "timestamp": "20260121_204109",
  "passed": 4,
  "failed": 3,
  "results": [
    {
      "test_number": 1,
      "question": "волатильность за декабрь 2024",
      "expect": {
        "lang": "ru",
        "route": "executor",
        "period_type": "month"
      },
      "result": {
        "question": "волатильность за декабрь 2024",
        "intent": "data",
        "lang": "ru",
        "question_en": "volatility for December 2024",
        "agents_used": [
          "intent",
          "parser",
          "executor",
          "presenter"
        ],
        "parsed_query": {
          "intent": "data",
          "what": "volatility for December 2024",
          "reason": null,
          "operation": null,
          "period": null,
          "time": null,
          "session": null,
          "weekday_filter": null,
          "event_filter": null,
          "metric": "range",
          "condition": null,
          "top_n": null,
          "sort_by": null,
          "sort_order": null,
          "group_by": null,
          "compare": null,
          "unclear": null
        },
        "row_count": 4524,
        "response": "Понял, извлекаю данные по волатильности за декабрь 2024.\n\nГотово, 4524 строк."
      },
      "failures": [
        "period.type: expected month, got None"
      ],
      "passed": false
    },
    {
      "test_number": 2,
      "question": "volatility for December 2024",
      "expect": {
        "lang": "en",
        "route": "executor",
        "period_type": "month"
      },
      "result": {
        "question": "volatility for December 2024",
        "intent": "data",
        "lang": "en",
        "question_en": "volatility for December 2024",
        "agents_used": [
          "intent",
          "parser",
          "executor",
          "presenter"
        ],
        "parsed_query": {
          "intent": "data",
          "what": "volatility",
          "reason": null,
          "operation": "stats",
          "period": {
            "type": "month",
            "value": "2024-12",
            "n": null,
            "start": null,
            "end": null,
            "year": null,
            "q": null
          },
          "time": null,
          "session": null,
          "weekday_filter": null,
          "event_filter": null,
          "metric": "range",
          "condition": null,
          "top_n": null,
          "sort_by": null,
          "sort_order": null,
          "group_by": null,
          "compare": null,
          "unclear": null
        },
        "row_count": 21,
        "response": "Got it, retrieving December 2024 volatility data now.\n\nDone, 21 rows."
      },
      "failures": [],
      "passed": true
    },
    {
      "test_number": 3,
      "question": "топ 5 волатильных дней 2024",
      "error": "Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.\nFor troubleshooting, visit: https://docs.langchain.com/oss/python/langgraph/errors/GRAPH_RECURSION_LIMIT",
      "passed": false
    },
    {
      "test_number": 4,
      "question": "top 3 volatile days in 2024",
      "expect": {
        "lang": "en",
        "route": "executor",
        "top_n": 3
      },
      "result": {
        "question": "top 3 volatile days in 2024",
        "intent": "data",
        "lang": "en",
        "question_en": "top 3 volatile days in 2024",
        "agents_used": [
          "intent",
          "parser",
          "executor",
          "presenter"
        ],
        "parsed_query": {
          "intent": "data",
          "what": "days",
          "reason": null,
          "operation": "top_n",
          "period": {
            "type": "year",
            "value": "2024",
            "n": null,
            "start": null,
            "end": null,
            "year": null,
            "q": null
          },
          "time": null,
          "session": null,
          "weekday_filter": null,
          "event_filter": null,
          "metric": "range",
          "condition": null,
          "top_n": 3,
          "sort_by": null,
          "sort_order": null,
          "group_by": null,
          "compare": null,
          "unclear": null
        },
        "row_count": 252,
        "response": "Got it, retrieving the top 3 volatile days for 2024 now.\n\nHere are the top 3 most volatile days in 2024, which included one instance of VIX Expiration and three red days."
      },
      "failures": [],
      "passed": true
    },
    {
      "test_number": 5,
      "question": "волатильность за 2099",
      "expect": {
        "lang": "ru",
        "route": "executor",
        "row_count": 0
      },
      "result": {
        "question": "волатильность за 2099",
        "intent": "data",
        "lang": "ru",
        "question_en": "volatility for 2099",
        "agents_used": [
          "intent",
          "parser",
          "executor",
          "presenter"
        ],
        "parsed_query": {
          "intent": "data",
          "what": "volatility",
          "reason": null,
          "operation": "stats",
          "period": {
            "type": "year",
            "value": "2099",
            "n": null,
            "start": null,
            "end": null,
            "year": null,
            "q": null
          },
          "time": null,
          "session": null,
          "weekday_filter": null,
          "event_filter": null,
          "metric": "range",
          "condition": null,
          "top_n": null,
          "sort_by": null,
          "sort_order": null,
          "group_by": null,
          "compare": null,
          "unclear": []
        },
        "row_count": null,
        "response": "Похоже, по запросу \"волатильность за 2099\" данные не найдены — попробуй другой период или фильтры."
      },
      "failures": [
        "row_count: expected 0, got None"
      ],
      "passed": false
    },
    {
      "test_number": 6,
      "question": "привет",
      "expect": {
        "lang": "ru",
        "intent": "chitchat"
      },
      "result": {
        "question": "привет",
        "intent": "chitchat",
        "lang": "ru",
        "question_en": "hello",
        "agents_used": [
          "intent",
          "responder"
        ],
        "parsed_query": {
          "intent": "chitchat"
        },
        "row_count": null,
        "response": "Привет! Я могу помочь с анализом рыночных данных. Что бы вы хотели узнать?"
      },
      "failures": [],
      "passed": true
    },
    {
      "test_number": 7,
      "question": "hello",
      "expect": {
        "lang": "en",
        "intent": "chitchat"
      },
      "result": {
        "question": "hello",
        "intent": "chitchat",
        "lang": "en",
        "question_en": "hello",
        "agents_used": [
          "intent",
          "responder"
        ],
        "parsed_query": {
          "intent": "chitchat"
        },
        "row_count": null,
        "response": "Hi! I can help analyze market data. What would you like to know?"
      },
      "failures": [],
      "passed": true
    }
  ]
}