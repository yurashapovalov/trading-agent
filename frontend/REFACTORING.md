# Frontend Refactoring Plan

## Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹

1. **chat.tsx (260 ÑÑ‚Ñ€Ğ¾Ğº)** - Ğ¼Ğ¾Ğ½Ğ¾Ğ»Ğ¸Ñ‚: UI + Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° + Ñ…ĞµĞ»Ğ¿ĞµÑ€Ñ‹ Ğ²Ğ¿ĞµÑ€ĞµĞ¼ĞµÑˆĞºÑƒ
   - `AgentStepsDisplay` - ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ğ°
   - `getStepDescription` - Ñ…ĞµĞ»Ğ¿ĞµÑ€ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ğ°
   - `agentIcons` - ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ğ°
   - Ğ’ÑÑ ÑĞºĞ»ĞµĞ¹ĞºĞ° Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ğ¼ĞµÑÑ‚Ğµ

2. **useChat.ts (500+ ÑÑ‚Ñ€Ğ¾Ğº)** - Ğ´ÑƒĞ±Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ´Ğ°
   - `sendMessage` Ğ¸ `respondToClarification` - Ğ¿Ğ¾Ñ‡Ñ‚Ğ¸ Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ‡Ğ½Ñ‹ (Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³ SSE)
   - Ğ¥ĞµĞ»Ğ¿ĞµÑ€Ñ‹ `stripSuggestions`, `tracesToAgentSteps` Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ğ°

3. **ĞŸĞ»Ğ¾ÑĞºĞ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²**
   ```
   components/ai/
     message.tsx
     reasoning.tsx
     tool.tsx
     ...25 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ğ¿Ğ°Ğ¿ĞºĞµ
   ```

4. **auth-provider.tsx** - Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° + Ñ€ĞµĞ½Ğ´ĞµÑ€Ğ¸Ğ½Ğ³ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ğ¼ĞµÑÑ‚Ğµ

---

## Ğ¦ĞµĞ»ĞµĞ²Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

### ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹

1. **ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ñ‚ÑƒĞ¿Ñ‹Ğµ** - Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ JSX + Ğ¿Ñ€Ğ¾Ğ¿ÑÑ‹, Ğ½Ğ¸ĞºĞ°ĞºĞ¾Ğ¹ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸
2. **Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾**:
   - ĞŸĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ğ°Ñ â†’ `hooks/`
   - ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ â†’ `*.container.tsx` Ñ€ÑĞ´Ğ¾Ğ¼ Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ¼
3. **ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ² Ğ¿Ğ°Ğ¿ĞºĞµ**
4. **Ğ¡Ñ‚Ğ¸Ğ»Ğ¸ = Tailwind** (Ğ½ĞµÑ‚ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ñ… CSS Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)

### Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ğ°Ğ¿Ğ¾Ğº

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx              # Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ñ‹
â”‚   â”œâ”€â”€ page.tsx
â”‚   â””â”€â”€ login/
â”‚       â””â”€â”€ page.tsx
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                     # shadcn Ğ¿Ñ€Ğ¸Ğ¼Ğ¸Ñ‚Ğ¸Ğ²Ñ‹ (Ğ½Ğµ Ñ‚Ñ€Ğ¾Ğ³Ğ°ĞµĞ¼)
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ dialog.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ chat/                   # Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ñ‡Ğ°Ñ‚
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ chat.tsx            # Ğ¢ÑƒĞ¿Ğ¾Ğ¹: Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ€ĞµĞ½Ğ´ĞµÑ€ layout
â”‚   â”‚   â”œâ”€â”€ chat.container.tsx  # Ğ¡ĞºĞ»ĞµĞ¹ĞºĞ°: useChat + Chat
â”‚   â”‚   â”œâ”€â”€ header/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ header.tsx
â”‚   â”‚   â”‚   â””â”€â”€ user-menu.tsx
â”‚   â”‚   â”œâ”€â”€ messages/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ message-list.tsx
â”‚   â”‚   â”‚   â””â”€â”€ message-item.tsx
â”‚   â”‚   â”œâ”€â”€ input/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ chat-input.tsx
â”‚   â”‚   â”‚   â””â”€â”€ suggestions.tsx
â”‚   â”‚   â””â”€â”€ steps/
â”‚   â”‚       â”œâ”€â”€ index.ts
â”‚   â”‚       â”œâ”€â”€ agent-steps.tsx
â”‚   â”‚       â””â”€â”€ step-item.tsx
â”‚   â”‚
â”‚   â””â”€â”€ ai/                     # ĞŸĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğµ AI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”‚       â”œâ”€â”€ message/
â”‚       â”‚   â”œâ”€â”€ index.ts
â”‚       â”‚   â”œâ”€â”€ message.tsx
â”‚       â”‚   â”œâ”€â”€ message-content.tsx
â”‚       â”‚   â”œâ”€â”€ message-actions.tsx
â”‚       â”‚   â””â”€â”€ message-branch.tsx
â”‚       â”œâ”€â”€ reasoning/
â”‚       â”‚   â”œâ”€â”€ index.ts
â”‚       â”‚   â””â”€â”€ reasoning.tsx
â”‚       â”œâ”€â”€ tool/
â”‚       â”‚   â”œâ”€â”€ index.ts
â”‚       â”‚   â””â”€â”€ tool.tsx
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ use-chat.ts             # ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ñ…ÑƒĞº Ñ‡Ğ°Ñ‚Ğ°
â”‚   â”œâ”€â”€ use-sse.ts              # ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ SSE (Ğ²Ñ‹Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒ Ğ¸Ğ· useChat)
â”‚   â”œâ”€â”€ use-auth.ts             # Ğ’Ñ‹Ğ½ĞµÑÑ‚Ğ¸ Ğ¸Ğ· auth-provider
â”‚   â””â”€â”€ ui/                     # UI Ñ…ÑƒĞºĞ¸
â”‚       â”œâ”€â”€ use-copy.ts
â”‚       â”œâ”€â”€ use-scroll-anchor.ts
â”‚       â””â”€â”€ use-collapse.ts
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ utils.ts
â”‚   â”œâ”€â”€ supabase.ts
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ chat.ts             # API Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Ñ‡Ğ°Ñ‚Ğ°
â”‚       â””â”€â”€ types.ts            # API Ñ‚Ğ¸Ğ¿Ñ‹
â”‚
â””â”€â”€ types/
    â””â”€â”€ chat.ts
```

---

## Layout

### UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ (ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹)

- `ResizablePanelGroup`, `ResizablePanel`, `ResizableHandle` - resizable panels
- `Sheet` - drawer (Ğ²Ñ‹ĞµĞ·Ğ¶Ğ°ĞµÑ‚ ÑĞ±Ğ¾ĞºÑƒ, Ğ¿Ğ¾Ğ²ĞµÑ€Ñ… ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°)
- `Dialog` - Ğ¼Ğ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾ (Ñ†ĞµĞ½Ñ‚Ñ€ ÑĞºÑ€Ğ°Ğ½Ğ°)
- `Command` - command palette (âŒ˜K)

### Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ Ñ‡Ğ°Ñ‚Ğ°

**1. Empty/Welcome state** - Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ Ğ¸Ğ»Ğ¸ Ğ½Ğ¾Ğ²Ğ¾Ğ¼ Ñ‡Ğ°Ñ‚Ğµ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â‰¡]                              [user] [settings]  â”‚  â† Header (Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚                                                     â”‚
â”‚                   ğŸ¤– Logo/Title                     â”‚
â”‚                   "Trading Agent"                   â”‚
â”‚                                                     â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚              â”‚ Ask about NQ...     â”‚                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                     â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚     â”‚ ĞŸĞ¾ĞºĞ°Ğ¶Ğ¸   â”‚ â”‚ ĞĞ°Ğ¹Ğ´Ğ¸    â”‚ â”‚ Ğ¡Ğ´ĞµĞ»Ğ°Ğ¹   â”‚         â”‚
â”‚     â”‚ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸-â”‚ â”‚ Ğ»ÑƒÑ‡ÑˆĞ¸Ğµ   â”‚ â”‚ Ğ±ÑĞºÑ‚ĞµÑÑ‚  â”‚         â”‚
â”‚     â”‚ ĞºÑƒ Ğ¿Ğ¾ NQ â”‚ â”‚ Ñ‚Ğ¾Ñ‡ĞºĞ¸... â”‚ â”‚ Ğ½Ğ° 9:30  â”‚         â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**2. Active chat state** - ĞºĞ¾Ğ³Ğ´Ğ° ĞµÑÑ‚ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
```
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      â”‚ [â‰¡] Chat Title    [âŒ˜K] [user]  â”‚           â”‚
â”‚  L   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    R      â”‚
â”‚  E   â”‚                                 â”‚    I      â”‚
â”‚  F   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    G      â”‚
â”‚  T   â”‚  â”‚ User message            â”‚    â”‚    H      â”‚
â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    T      â”‚
â”‚  P   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚           â”‚
â”‚  A   â”‚  â”‚ Agent steps...          â”‚    â”‚    P      â”‚
â”‚  N   â”‚  â”‚ Assistant response      â”‚    â”‚    A      â”‚
â”‚  E   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    N      â”‚
â”‚  L   â”‚                                 â”‚    E      â”‚
â”‚      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    L      â”‚
â”‚ 240pxâ”‚  [Suggestion] [Suggestion]      â”‚   300px   â”‚
â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚           â”‚
â”‚      â”‚  â”‚ Input...            [â†’] â”‚    â”‚           â”‚
â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†‘                                 â†‘
    Resizable                        Resizable
```

### ĞŸĞ°Ğ½ĞµĞ»Ğ¸

**Ğ›ĞµĞ²Ğ°Ñ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ (LeftPanel):**
- Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ñ‡Ğ°Ñ‚Ğ¾Ğ² (ÑĞ¿Ğ¸ÑĞ¾Ğº)
- ĞšĞ½Ğ¾Ğ¿ĞºĞ° "New Chat"
- ĞœĞ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ collapsed (Ğ¸ĞºĞ¾Ğ½ĞºĞ° â‰¡ Ğ² header)
- Default: ~240px, min: 200px, collapsible

**ĞŸÑ€Ğ°Ğ²Ğ°Ñ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ (RightPanel):**
- ĞÑ€Ñ‚Ğ¸Ñ„Ğ°ĞºÑ‚Ñ‹ (Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸, Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹, ĞºĞ¾Ğ´)
- SQL Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹
- Default: ÑĞºÑ€Ñ‹Ñ‚Ğ°, Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ ĞºĞ¾Ğ³Ğ´Ğ° ĞµÑÑ‚ÑŒ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚
- Default: ~300px, min: 250px, collapsible

**ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¾ĞºĞ½Ğ°:**
- Settings (Dialog)
- Command palette âŒ˜K (Command)
- ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ (AlertDialog)

### Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²

```
src/components/
  layout/
    index.ts
    app-layout.tsx           # ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ layout Ñ panels
    header.tsx               # Header
    left-panel.tsx           # Ğ›ĞµĞ²Ğ°Ñ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ
    right-panel.tsx          # ĞŸÑ€Ğ°Ğ²Ğ°Ñ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ

  chat/
    index.ts
    chat-page.tsx            # ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ñ‡Ğ°Ñ‚Ğ°
    welcome-view.tsx         # Empty state
    chat-view.tsx            # Active state (messages + input)

  modals/
    settings-dialog.tsx
    command-palette.tsx
```

### Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹

- `/login` - Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
- `/` - Ğ³Ğ»Ğ°Ğ²Ğ½Ğ°Ñ (Ñ‡Ğ°Ñ‚)
- `/chat/[id]` - ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ Ñ‡Ğ°Ñ‚ (ĞµÑĞ»Ğ¸ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ)
- `/settings` - Ğ¸Ğ»Ğ¸ Ğ¼Ğ¾Ğ´Ğ°Ğ»ĞºĞ°?

---

## ĞŸĞ»Ğ°Ğ½ Ñ€ĞµÑ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ°

### Ğ¤Ğ°Ğ·Ğ° 1: Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ğ°Ğ¿Ğ¾Ğº
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ¿Ğ°Ğ¿Ğ¾Ğº
- [ ] Ğ Ğ°Ğ·Ğ±Ğ¸Ñ‚ÑŒ ai/ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ¿Ğ¾ Ğ¿Ğ°Ğ¿ĞºĞ°Ğ¼
- [ ] ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ñ‹

### Ğ¤Ğ°Ğ·Ğ° 2: useChat Ñ€ĞµÑ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³
- [ ] Ğ’Ñ‹Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒ `useSSE` Ñ…ÑƒĞº (Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³ SSE ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹)
- [ ] Ğ’Ñ‹Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒ API Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ² `lib/api/chat.ts`
- [ ] Ğ£Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ´ÑƒĞ±Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ sendMessage/respondToClarification

### Ğ¤Ğ°Ğ·Ğ° 3: Chat ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚
- [ ] Ğ Ğ°Ğ·Ğ±Ğ¸Ñ‚ÑŒ Ğ½Ğ° chat.tsx (Ñ‚ÑƒĞ¿Ğ¾Ğ¹) + chat.container.tsx
- [ ] Ğ’Ñ‹Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒ Header, MessageList, ChatInput Ğ² Ğ¿Ğ¾Ğ´Ğ¿Ğ°Ğ¿ĞºĞ¸
- [ ] AgentSteps Ğ² Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚

### Ğ¤Ğ°Ğ·Ğ° 4: Auth
- [ ] Ğ’Ñ‹Ğ½ĞµÑÑ‚Ğ¸ Ğ»Ğ¾Ğ³Ğ¸ĞºÑƒ Ğ² `hooks/use-auth.ts`
- [ ] AuthProvider Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ĞºĞ°Ğº Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°

---

## ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ñ‹Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹

1. Layout - Ğ½ÑƒĞ¶ĞµĞ½ sidebar?
2. Ğ“Ğ´Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğ¸ (agentIcons, defaultSuggestions)?
3. ĞÑƒĞ¶ĞµĞ½ Ğ»Ğ¸ Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ state manager (zustand)?
